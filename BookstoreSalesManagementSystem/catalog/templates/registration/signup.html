{% extends "base_generic.html" %} {# 假设你的基础模板名为 base_generic.html #}

{% block title %}用户登录{% endblock %} {# 覆盖基础模板中的标题块 #}

{% block content %} {# 覆盖基础模板中的主要内容块 #}
  <h2>登录</h2>
  {% if form.errors %}
    <p style="color: red;">你的用户名和密码不匹配，请重试。</p>
  {% endif %}

  {% if next %}
    {% if user.is_authenticated %}
      <p>你的账户无权访问此页面。要继续，请使用有权访问的账户登录。</p>
    {% else %}
      <p>请登录以查看此页面。</p>
    {% endif %}
  {% endif %}

  <form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <table>
      <tr>
        <td>{{ form.username.label_tag }}</td>
        <td>{{ form.username }}</td>
      </tr>
      <tr>
        <td>{{ form.password.label_tag }}</td>
        <td>{{ form.password }}</td>
      </tr>
    </table>
    <input type="submit" value="登录" />
    <input type="hidden" name="next" value="{{ next }}" />
  </form>

  {# 如果你想添加“忘记密码？”和“注册”链接 #}
  <p><a href="{% url 'password_reset' %}">忘记密码?</a></p>
  <p>还没有账户? <a href="{% url 'signup' %}">立即注册</a></p> {# 假设你的注册URL名为 'signup' #}
{% endblock %}